{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Pied2Page.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","Accueil.jsx","Apropos.jsx","Contact.jsx","Page.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","props","etatPanier","panier","infoPanier","pan","info","articles","Object","values","nbArticles","length","qteArticles","reduce","valInit","valCourante","qte","sousTotal","accumulateur","articleCourant","prix","st","toFixed","tps","tvq","total","retournerInfoPanier","className","cacher","Entete","useState","cacheSommaire","setCacheSommaire","to","Badge","onClick","badgeContent","eltCourant","color","Pied2Page","annee","Date","getFullYear","avecNom","BtnAjoutPanier","texte","couleur","Produit","id","nom","setPanier","btnTexte","btnQte","btnCouleurCls","src","alt","JSON","parse","stringify","ListeProduits","tabProduits","map","prd","Accueil","Apropos","Contact","Page","valeurInitiale","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","exact","component","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.73d3a222.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier(props) {\r\n    // console.log(\"État du panier dans SommairePanier\", props,etatPanier);\r\n    const [panier, setPanier] = props.etatPanier;\r\n    const infoPanier = retournerInfoPanier(panier);\r\n    return (\r\n        <div className={'SommairePanier' + (props.cacher?' cacher':'')}>\r\n            <span className=\"nbArticles\">Articles différents : {infoPanier.nbArticles}</span>\r\n            <span className=\"qteArticles\">Articles total : {infoPanier.qteArticles}</span>\r\n            <span className=\"sousTotal\">Sous-total : {infoPanier.st}</span>\r\n            <span className=\"tps\">TPS : {infoPanier.tps}</span>\r\n            <span className=\"tvq\">TVQ : {infoPanier.tvq}</span>\r\n            <span className=\"total\">Total : {infoPanier.total}</span>\r\n    </div>\r\n    );\r\n}\r\n\r\nfunction retournerInfoPanier(pan) {\r\n    let info = {}; //{nbArticles :2, qteArticles: 18, sousTotal: 1234.56,}\r\n\r\n    // Sortir les articles et les mettre dans un tableau\r\n    let articles = Object.values(pan);\r\n\r\n    // Nombre d'articles différents\r\n    info.nbArticles = articles.length;\r\n\r\n    // Quantité d'articles totale\r\n    // Première façon :\r\n    // let qteTotale = 0;\r\n    // for(let i=0; i<articles.length; i++) {\r\n    //     qteTotale += articles[i].qte;\r\n    // }\r\n    // info.qteArticles = qteTotale;\r\n\r\n    // Meilleur façon\r\n    info.qteArticles = articles.reduce(function(valInit, valCourante) {\r\n        return valCourante.qte + valInit;\r\n    }, 0);\r\n\r\n    // Sous-total\r\n    let sousTotal = articles.reduce((accumulateur, articleCourant) => articleCourant.prix*articleCourant.qte + accumulateur, 0);\r\n    info.st = sousTotal.toFixed(2);\r\n    // console.log(info.qteArticles);\r\n    // console.log(sousTotal); \r\n\r\n    // TPS, TVQ, Total\r\n    let tps = sousTotal * 0.05;\r\n    info.tps = tps.toFixed(2);\r\n\r\n    let tvq = sousTotal * 0.09975\r\n    info.tvq = tvq.toFixed(2);\r\n\r\n    info.total = (sousTotal + tps + tvq).toFixed(2);\r\n\r\n    return info;\r\n    \r\n}","import './Entete.scss';\r\nimport ShoppingCartIcons from '@material-ui/icons/ShoppingCart';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport SommairePanier from './SommairePanier';\r\nimport { useState } from 'react';\r\nimport { Link } from 'react-router-dom'\r\n// import { NavLink } from 'react-router-dom'\r\n\r\nexport default function Entete(props) {\r\n    // const etatCacherSommairePanier = useState(true);\r\n\r\n    // // Array/Object DESTRUCTURING (décomposition des tablaeux et objets)\r\n\r\n    // const valeurEtatCacher = etatCacherSommairePanier[0];\r\n\r\n    // Avec la décomposition de tableau, c'est plus facile :\r\n    const [cacheSommaire, setCacheSommaire] = useState(true);\r\n    \r\n    // const basculerSommairePanier = () => setCacheSommaire(cacheSommaire ? false : true);\r\n    const basculerSommairePanier =  () => setCacheSommaire(!cacheSommaire);\r\n\r\n    // Accéder à l'état du panier qui est reçu dans les props\r\n    const [panier] = props.etatPanier; // Décomposition de tableaux (et d'objets)\r\n    \r\n    // Calculer le nombre d'articles total du panier\r\n    // Méthode 1 : programmation impérative (moins expressive)\r\n    //const articlesTab = Object.values(panier);\r\n    // let nbArticles = 0;\r\n    // for (let i = 0; i < articlesTab.length; i++) {\r\n    //     nbArticles += articlesTab[i].qte;\r\n    // }\r\n\r\n    // Calculer le nombre d'articles total du panier\r\n    // Méthode 2 : programmation déclarative (plus expressive)\r\n    // [ {prix: 19, qte: 3}, {prix: 26.95, qte: 13}, {prix: 254.75, qte: 5} ]\r\n    // const nbArticles = Object.values(panier).reduce( (accumulateur, eltCourant) =>accumulateur + eltCourant.qte, 0);\r\n    // console.log(\"Le TABLEAU des articles dans le panier : \" + articlesTab);\r\n\r\n    /*\r\n        let h = document.createElement(\"header\");\r\n        h.setAttibute(\"class\", \"Entete\");\r\n        h.appendChild();\r\n    */\r\n\r\n    return (\r\n        <header className=\"Entete\">\r\n            <div><Link to=\"/\">Logo</Link></div>\r\n            <ul className=\"navPrincipale\">\r\n                <li><Link to=\"/nos-produits\">Produits</Link></li>\r\n                <li><Link to=\"/a-propos-de-magasin\">À propos de nous</Link></li>\r\n                <li><Link to=\"/contact\">Contactez-nous</Link></li>\r\n            </ul>\r\n            <ul className=\"navUtil\">\r\n                <li>\r\n                    <Badge onClick={basculerSommairePanier}  badgeContent={Object.values(panier).reduce( (accumulateur, eltCourant) => accumulateur + eltCourant.qte, 0)} color=\"primary\">\r\n                        <ShoppingCartIcons />\r\n                    </Badge>\r\n                    <SommairePanier cacher={cacheSommaire} etatPanier={props.etatPanier} />\r\n                </li>\r\n                <li>Mon compte</li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}","import './Pied2Page.scss'\r\n\r\nexport default function Pied2Page(props) {\r\n    // Obtenir l'année courante\r\n    const annee = (new Date()).getFullYear();\r\n    return (\r\n        <footer>\r\n            &copy; {annee} - {props.avecNom}\r\n        </footer>\r\n    );\r\n}","import './BtnAjoutPanier.scss';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { useState } from 'react';\r\n\r\nexport default function BtnAjoutPanier({qte, onClick, texte, couleur}) {\r\n    // État du badge du bouton\r\n    // const [btnQte, setBtnQte] = useState(0);\r\n    // const [btnTexte, setBtnTexte] = useState('Ajouter au panier');\r\n    return (\r\n        <Badge badgeContent={qte} color=\"secondary\">\r\n            <button onClick={onClick}\r\n                className={'BtnAjoutPanier ' + (couleur)}\r\n            >\r\n                {texte}\r\n            </button>\r\n        </Badge>\r\n    )\r\n}","import './Produit.scss'\r\nimport BtnAjoutPanier from './BtnAjoutPanier'\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\n\r\n\r\nexport default function Produit({etatPanier, id, nom, prix}) {\r\n    // console.log(\"Panier dans Produit : \", props.etatPanier)\r\n    const [panier, setPanier] = etatPanier;\r\n    /**\r\n     * Ajouter l'article au panier\r\n     */\r\n    function ajouterArticle() {\r\n        if (panier[id]) {\r\n            // setPanier();\r\n            panier[id].qte++;\r\n        }\r\n        else {\r\n            // setPanier();\r\n            panier[id] = { prix: prix, qte: 1 }\r\n        }\r\n        // Maintenant il faut changer l'état du panier avec setPanier\r\n        // Il faut passer à setPanier un NOUVEL objet (obtenu par clonage)\r\n\r\n        setPanier(JSON.parse(JSON.stringify(panier)));\r\n        // setPanier({...panier}) // {...panier} //Spread operator\r\n        // let nouveauPanier = Object.assign({}, panier);\r\n        // setPanier(nouveauPanier);\r\n        // console.log(\"Clone obtenu avec assign() : \" + nouveauPanier);\r\n    };\r\n\r\n    // État du bouton\r\n    let btnTexte = \"Ajouter au panier\";\r\n    let btnQte = 0;\r\n    let btnCouleurCls = \"\";\r\n    if (panier[id]) {\r\n        btnTexte = <AddCircleOutlineIcon />;    //JSX : Javascript Synctax eXtention<\r\n        btnQte = panier[id].qte;\r\n        btnCouleurCls = \"bleu\";\r\n    }\r\n\r\n    return (\r\n        <li className=\"Produit\">\r\n            <div className=\"image\">\r\n                <img src={'images-produits/' + id + '.webp'} alt={nom} />\r\n            </div>\r\n            <div className=\"info\">\r\n                <h3>{nom}</h3>\r\n                <p className=\"prix\">{prix} $CA</p>\r\n                <BtnAjoutPanier \r\n                    onClick={ajouterArticle} \r\n                    texte={btnTexte} \r\n                    qte={btnQte} \r\n                    couleur={btnCouleurCls} />\r\n            </div>\r\n        </li>\r\n    );\r\n}","import './ListeProduits.scss';\r\nimport Produit from './Produit';\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props) {\r\n    // console.log(\"Panier dans ListeProduits : \" + props.etatPanier);\r\n    return (\r\n        <div className=\"ListeProduits\">\r\n            <h2>Produits disponibles</h2>\r\n            <ul>\r\n                {\r\n                    tabProduits.map((prd) => \r\n                        <Produit \r\n                            key={prd.id}\r\n                            etatPanier={props.etatPanier}\r\n                            id={prd.id}\r\n                            nom={prd.nom}\r\n                            prix={prd.prix} \r\n                        />\r\n                    )\r\n                }\r\n                {/* <Produit nom=\"T-Shirt à col rond\" prix=\"13.99\" id=\"prd0001\"/> */}\r\n            </ul>\r\n        </div>\r\n    );\r\n}","\r\nexport default function Accueil() {\r\n    return (\r\n        <div className=\"Accueil\">\r\n            <h2>Magasin</h2>\r\n            <p>Page d'accueil en construction</p>\r\n        </div>\r\n    );\r\n}","\r\nexport default function Apropos() {\r\n    return (\r\n        <div className=\"Apropos\">\r\n            <h2>À propos de nous</h2>\r\n            <p>Bla bla bla...</p>\r\n        </div>\r\n    );\r\n}","\r\nexport default function Contact() {\r\n    return (\r\n        <div className=\"Contact\">\r\n            <h2>Contactez-nous</h2>\r\n            <p>Formulaire de contact à venir...</p>\r\n        </div>\r\n    );\r\n}","import './Page.scss';\nimport Entete from './Entete';\nimport Pied2Page from './Pied2Page';\nimport ListeProduits from './ListeProduits';\nimport useLocalStorageState from './hooks/useLocalStorageState';\nimport { Switch, Route} from 'react-router-dom';\nimport Accueil from './Accueil';\nimport Apropos from './Apropos';\nimport Contact from './Contact';\n\nexport default function Page() {\n\n  // On utilise notre hook personnalisé pour créer un état qui sera sauvegardé dans localStorage\n  // Cet état aura comme valeur inintiale : {} et l'étiquette localStorage sera :\n  const etatPanier = useLocalStorageState({}, \"panier\")\n  // const etatConnexion = useLocalStorageState(false, \"utilisateur-connexion\")\n  // const choixLangue = useLocalStorageState(\"fr\", \"choix-langue\")\n\n  // // Remarquez l'initialisation \"paresseuse\" (lazy initialisation) de l'état\n  // const etatPanier = useState(() => {\n  //   const panierLS = window.localStorage.getItem('panier');\n  //   return (panierLS !== null) ? JSON.parse(panierLS) : {};\n  // });\n  // const [panier, setPanier] = etatPanier;\n\n  // // Sauvegarder le panier dans localStorage (c'est un side-effect)\n  // // Comme ce code est un effet secondaire de votre composant\n  // // (qui doit être exécuter à chauque mutation du panier) la bonne façon de\n  // // le code en respectant la manière React est d'utiliser un hook spécialisé \"useEffect\"\n  // useEffect(() => {\n  //   window.localStorage.setItem('panier', JSON.stringify(panier))\n  // }, [panier]); // tableau des deps (dépendances)\n  \n\n  return (\n    <div className=\"Page\">\n    <Entete etatPanier={etatPanier} />\n    <section className=\"contenuPrincipal\">\n    <Switch>\n        <Route path=\"/nos-produits\" exact>\n          <ListeProduits etatPanier={etatPanier} />\n        </Route>\n        <Route path=\"/a-propos-de-magasin\" exact>\n            <Apropos />\n        </Route>\n        <Route path=\"/contact\" exact>\n            <Contact />\n        </Route>\n        <Route path=\"/\" component={Accueil} exact />\n    </Switch>\n\n      \n    </section>\n    <Pied2Page avecNom=\"TIM\"/>\n    </div>\n  );\n}","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Obtient un état React qui sera sauvegarder dans localStorage\r\n * \r\n * @param {*} valeurInitiale valeur quelconque avec laquelle on veut initialisetr l'état\r\n * @param {string} etiquetteLS chaine de caractère pour l'étiquette localStorage\r\n * \r\n * @returns {array} tableau retourné par useState\r\n */\r\nexport default function useLocalStorageState(valeurInitiale, etiquetteLS) {\r\n    const [etat, setEtat] = useState(\r\n        () => JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurInitiale\r\n    );\r\n\r\n    useEffect(\r\n        () => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)),\r\n        [etat, etiquetteLS]\r\n    )\r\n\r\n    // Retourner l'état\r\n    return [etat, setEtat];\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport './index.scss';\nimport Page from './Page';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/panier-achat\">\n      <Page />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('racine')\n);\n"],"sourceRoot":""}